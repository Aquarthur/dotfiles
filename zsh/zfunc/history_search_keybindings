### Bind keys
autoload -U history-search-end
zle -N history-beginning-search-backward-end history-search-end
zle -N history-beginning-search-forward-end history-search-end
# Change bindings to "^[[A" and "^[[B" for Mac
if [[ $OSTYPE == "darwin"* ]]; then
  bindkey "^[[A" history-beginning-search-backward-end # Up
  bindkey "^[[B" history-beginning-search-forward-end # Down
else
  bindkey "${terminfo[kcuu1]}" history-beginning-search-backward-end
  bindkey "${terminfo[kcud1]}" history-beginning-search-forward-end
fi
